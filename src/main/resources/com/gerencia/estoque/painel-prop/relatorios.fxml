<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.gerencia.estoque.controller.relatorio.RelatoriosController">
    <top>
        <Label alignment="CENTER" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-padding: 10;" text="Relatórios" />
    </top>
    <center>
        <TabPane>
            <!-- Relatório de Transações -->
            <Tab text="Transações">
                <VBox spacing="10" style="-fx-padding: 10;">
                    <!-- Tabela de Transações -->
                    <TableView fx:id="tabelaTransacoes">
                        <columns>
                            <TableColumn fx:id="colunaIdTransacao" text="ID" visible="false" />
                            <TableColumn fx:id="colunaProduto" text="Produto" />
                            <TableColumn fx:id="colunaQuantidade" text="Quantidade" />
                            <TableColumn fx:id="colunaPreco" text="Preço" />
                            <TableColumn fx:id="colunaDataHora" text="Data/Hora" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>

                    <!-- Nova Tabela de Produtos Vendidos -->
                    <Label text="Produtos Vendidos" />
                    <TableView fx:id="tabelaProdutosVendidos">
                        <columns>
                            <TableColumn fx:id="colunaProdutoVendido" text="Produto" />
                            <TableColumn fx:id="colunaQuantidadeVendidaTransacao" text="Quantidade Vendida" />
                            <TableColumn fx:id="colunaPrecoTotal" text="Preço Total" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Relatório de Demanda -->
            <Tab text="Demanda">
                <VBox spacing="10" style="-fx-padding: 10;">
                    <!-- Tabela de Demanda -->
                    <TableView fx:id="tabelaDemanda">
                        <columns>
                            <TableColumn fx:id="colunaClienteDemanda" text="Cliente" />
                            <TableColumn fx:id="colunaItemDemandado" text="Item Demandado" />
                            <TableColumn fx:id="colunaQuantidadeDemandada" text="Quantidade" />
                            <TableColumn fx:id="colunaUltimaDataDemanda" text="Última Data" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>

                    <!-- Tabela de Itens Mais Demandados -->
                    <Label text="Itens Mais Demandados" />
                    <TableView fx:id="tabelaItensMaisDemandados">
                        <columns>
                            <TableColumn fx:id="colunaItemDemandadoMaisRequisitado" text="Item Demandado" />
                            <TableColumn fx:id="colunaQuantidadeDemandadaTotal" text="Quantidade Demandada" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </Tab>


            <!-- Relatório de Descontos Aplicados -->
            <Tab text="Descontos Aplicados">
                <VBox spacing="10" style="-fx-padding: 10;">
                    <!-- Tabela de Descontos Aplicados -->
                    <TableView fx:id="tabelaDescontos">
                        <columns>
                            <TableColumn fx:id="colunaIdDesconto" text="ID Desconto" visible="false" />
                            <TableColumn fx:id="colunaDescricaoDesconto" text="Descrição" />
                            <TableColumn fx:id="colunaQtdAplicada" text="Quantidade Aplicada" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>

                    <!-- Nova Tabela: Descontos Mais Aplicados -->
                    <Label text="Descontos Mais Aplicados" />
                    <TableView fx:id="tabelaDescontosMaisAplicados">
                        <columns>
                            <TableColumn fx:id="colunaDescricaoDescontoAplicado" text="Descrição do Desconto" />
                            <TableColumn fx:id="colunaQuantidadeAplicada" text="Quantidade Aplicada" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </Tab>


<!--            &lt;!&ndash; Relatório de Pontuação de Clientes &ndash;&gt;-->
<!--            <Tab text="Pontuação de Clientes">-->
<!--                <VBox spacing="10" style="-fx-padding: 10;">-->
<!--                    <TableView fx:id="tabelaPontuacaoClientes">-->
<!--                        <columns>-->
<!--                            <TableColumn fx:id="colunaIdClientePontuacao" text="ID Cliente" visible="false" />-->
<!--                            <TableColumn fx:id="colunaNomeClientePontuacao" text="Nome" />-->
<!--                            <TableColumn fx:id="colunaPontuacao" text="Pontuação" />-->
<!--                            <TableColumn fx:id="colunaComprasFeitas" text="Compras feitas" />-->
<!--                        </columns>-->
<!--                        <columnResizePolicy>-->
<!--                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />-->
<!--                        </columnResizePolicy>-->
<!--                    </TableView>-->
<!--                </VBox>-->
<!--            </Tab>-->

            <!-- Relatório de Métricas -->
            <Tab text="Compras e Vendas">
                <VBox spacing="10" style="-fx-padding: 10;">
                    <!-- Produtos Mais Vendidos -->
                    <Label text="Produtos Mais Vendidos" />
                    <TableView fx:id="tabelaProdutosMaisVendidos">
                        <columns>
                            <TableColumn fx:id="colunaProdutoVendidos" text="Produto" />
                            <TableColumn fx:id="colunaQuantidadeVendidaMetricas" text="Quantidade Vendida" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>

                    <!-- Produtos Mais Comprados -->
                    <Label text="Produtos Mais Comprados" />
                    <TableView fx:id="tabelaProdutosMaisComprados">
                        <columns>
                            <TableColumn fx:id="colunaProdutoComprado" text="Produto" />
                            <TableColumn fx:id="colunaQuantidadeComprada" text="Quantidade Comprada" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>
            </Tab>

        </TabPane>
    </center>
</BorderPane>
